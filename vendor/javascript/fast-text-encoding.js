import e from"buffer";var t="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;var n={};var r=e.Buffer;(function(e){function B(e,t){var n;return n=e instanceof r?e:r.from(e.buffer,e.byteOffset,e.byteLength),n.toString(t)}var w=function(e){return r.from(e)};function h(e){for(var t=0,n=Math.min(65536,e.length+1),r=new Uint16Array(n),o=[],a=0;;){var f=t<e.length;if(!f||a>=n-1){var i=r.subarray(0,a),c=i;if(o.push(String.fromCharCode.apply(null,c)),!f)return o.join("");e=e.subarray(t),t=0,a=0}var u=e[t++];if(0===(128&u))r[a++]=u;else if(192===(224&u)){var s=63&e[t++];r[a++]=(31&u)<<6|s}else if(224===(240&u)){s=63&e[t++];var d=63&e[t++];r[a++]=(31&u)<<12|s<<6|d}else if(240===(248&u)){s=63&e[t++],d=63&e[t++];var l=63&e[t++],y=(7&u)<<18|s<<12|d<<6|l;y>65535&&(y-=65536,r[a++]=y>>>10&1023|55296,y=56320|1023&y),r[a++]=y}}}function F(e){for(var t=0,n=e.length,r=0,o=Math.max(32,n+(n>>>1)+7),a=new Uint8Array(o>>>3<<3);t<n;){var f=e.charCodeAt(t++);if(f>=55296&&f<=56319){if(t<n){var i=e.charCodeAt(t);56320===(64512&i)&&(++t,f=((1023&f)<<10)+(1023&i)+65536)}if(f>=55296&&f<=56319)continue}if(r+4>a.length){o+=8,o*=1+t/e.length*2,o=o>>>3<<3;var c=new Uint8Array(o);c.set(a),a=c}if(0!==(4294967168&f)){if(0===(4294965248&f))a[r++]=f>>>6&31|192;else if(0===(4294901760&f))a[r++]=f>>>12&15|224,a[r++]=f>>>6&63|128;else{if(0!==(4292870144&f))continue;a[r++]=f>>>18&7|240,a[r++]=f>>>12&63|128,a[r++]=f>>>6&63|128}a[r++]=63&f|128}else a[r++]=f}return a.slice?a.slice(0,r):a.subarray(0,r)}var n="Failed to ",p=function(e,t,r){if(e)throw new Error("".concat(n).concat(t,": the '").concat(r,"' option is unsupported."))};var o="function"==typeof r&&r.from;var a=o?w:F;function v(){(this||t).encoding="utf-8"}v.prototype.encode=function(e,t){return p(t&&t.stream,"encode","stream"),a(e)};function U(e){var t;try{var n=new Blob([e],{type:"text/plain;charset=UTF-8"});t=URL.createObjectURL(n);var r=new XMLHttpRequest;return r.open("GET",t,!1),r.send(),r.responseText}finally{t&&URL.revokeObjectURL(t)}}var f=!o&&"function"==typeof Blob&&"function"==typeof URL&&"function"==typeof URL.createObjectURL,i=["utf-8","utf8","unicode-1-1-utf-8"],c=h;o?c=B:f&&(c=function(e){try{return U(e)}catch(t){return h(e)}});var u="construct 'TextDecoder'",s="".concat(n," ").concat(u,": the ");function g(e,n){p(n&&n.fatal,u,"fatal"),e=e||"utf-8";var a;if(a=o?r.isEncoding(e):-1!==i.indexOf(e.toLowerCase()),!a)throw new RangeError("".concat(s," encoding label provided ('").concat(e,"') is invalid."));(this||t).encoding=e,(this||t).fatal=!1,(this||t).ignoreBOM=!1}g.prototype.decode=function(e,n){p(n&&n.stream,"decode","stream");var r;return r=e instanceof Uint8Array?e:e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer):new Uint8Array(e),c(r,(this||t).encoding)};e.TextEncoder=e.TextEncoder||v;e.TextDecoder=e.TextDecoder||g})("undefined"!==typeof window?window:"undefined"!==typeof t?t:n);export{n as default};

